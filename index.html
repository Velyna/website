<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="./assets/css/main.css">
    <script src="./assets/js/main.js"></script>
</head>
<body>
    <div class="grid-container">
        <div class="grid-navbar">
            <div class="flex-navbar">Nav</div>
        </div>
        <div class="grid-content">
            <div class="flex-content">
                <div class="flex-intro">
                    Intro
                </div>
                <div class="flex-twitch">
                    <script src= "https://player.twitch.tv/js/embed/v1.js"></script>

                    <div id="twitch" class="hide">
                    </div>
                  
                    <script type="text/javascript">
                      var options = {
                        channel: "velyna", // TODO: Change this to the streams username you want to embed
                        width: 640,
                        height: 360,
                        parent: ['localhost', 'velyna.net']
                      };
                      var player = new Twitch.Player("twitch", options);
                  
                      player.addEventListener(Twitch.Player.READY, initiate)
                  
                      function initiate() {
                        player.addEventListener(Twitch.Player.ONLINE, handleOnline);
                        player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
                        player.removeEventListener(Twitch.Player.READY, initiate);
                      }
                  
                      function handleOnline() {
                        document.getElementById("twitch").classList.remove('hide');
                        player.removeEventListener(Twitch.Player.ONLINE, handleOnline);
                        player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
                        player.setMuted(false);
                      }
                  
                      function handleOffline() {
                        document.getElementById("twitch").classList.add('hide');
                        player.removeEventListener(Twitch.Player.OFFLINE, handleOffline);
                        player.addEventListener(Twitch.Player.ONLINE, handleOnline);
                        player.setMuted(true);
                      }
                    </script>
                </div>
                <div class="flex-youtube">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PL9w6GAz6eu4-L9t6KSC1DeZ2ejxS5AorB" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
                <div class="flex-footer">
                    Footer
                </div>
            </div>
        </div>
    </div> 
</body>

</html>